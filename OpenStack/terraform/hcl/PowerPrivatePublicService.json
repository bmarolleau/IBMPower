{
  "service": {
    "specVersion": "v3",
    "catalog_metadata": {
      "name": "IBM Cloud Power Virtual Server",
      "description": "IBM i 7.2/7.3  / AIX 7.1 7.2 / Linux ppc64le Virtual Machines available within 2 minutes for any projects. ",
      "longDescription": "",
      "providerDisplayName": "IBM",
      "image": "serviceicon_1.svg",
      "category": "AI-Cloud",
      "bullets": [
        {
          "title": "1 VM on POWER8/9 Server + IBM i 7.x Operating System",
          "description": "VM with 2 vCPU (SMT8) , 16GB RAM, and 100 GB System ASP"
        }
      ],
      "author": "admin",
      "documentationUrl": "",
      "supportUrl": "",
      "bindable": false,
      "updatable": "",
      "systemTags": true
    },
    "tags": [
      {
        "name": "request_group",
        "label": "request_group",
        "type": "string",
        "immutable": true,
        "hidden": false,
        "required": false,
        "secured": false,
        "description": "The current context group id of the current user that requested the provisioning of the template. This is important because a user may be part of more than one group and this identifies the context of which group the user made the request.",
        "isSystemTag": true,
        "default": "${svc_instance.group}",
        "customtype": "string",
        "permission": "Read-Only"
      },
      {
        "name": "request_user",
        "label": "request_user",
        "type": "string",
        "immutable": true,
        "hidden": false,
        "required": false,
        "secured": false,
        "description": "The user id of the current user that requested the provisioning of the template.",
        "isSystemTag": true,
        "default": "${svc_instance.owner}",
        "customtype": "string",
        "permission": "Read-Only"
      },
      {
        "name": "service_name",
        "label": "service_name",
        "type": "string",
        "immutable": true,
        "hidden": false,
        "required": false,
        "secured": false,
        "description": "Name provided for the service instance by the end user at time of request",
        "isSystemTag": true,
        "default": "${svc_instance.name}",
        "customtype": "string",
        "permission": "Read-Only"
      },
      {
        "name": "service_identifier",
        "label": "service_identifier",
        "type": "string",
        "immutable": true,
        "hidden": false,
        "required": false,
        "secured": false,
        "description": "Unique identifer generated by ICAM which is mapped to the service instance of the template provisioned.",
        "isSystemTag": true,
        "default": "${svc_instance.service_instance_id}",
        "customtype": "string",
        "permission": "Read-Only"
      }
    ],
    "actions": [
      {
        "type": "provision",
        "name": "Provision",
        "description": "Default action for deployment of service",
        "input_parameters": [
          {
            "name": "OSVersion",
            "label": "OS Version",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": false,
            "secured": false,
            "options": [
              {
                "label": "IBM i 7.2",
                "value": "IBMi7.2",
                "default": false
              },
              {
                "label": "IBM i 7.3",
                "value": "IBMi7.3",
                "default": false
              },
              {
                "label": "AIX 7.2",
                "value": "AIX7.2",
                "default": false
              },
              {
                "label": "RHEL8",
                "value": "RHEL8",
                "default": false
              }
            ],
            "passbyname": false,
            "dynamicDetails": {},
            "isDynamic": false
          },
          {
            "name": "NumberofVMs",
            "label": "Number of VMs",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": false,
            "secured": false,
            "description": "Number of VMs to provision",
            "options": [
              {
                "label": "1",
                "value": "1",
                "default": true
              },
              {
                "label": "2",
                "value": "2",
                "default": false
              },
              {
                "label": "3",
                "value": "3",
                "default": false
              }
            ]
          },
          {
            "name": "flavor",
            "label": "flavor",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": true,
            "secured": false,
            "options": [
              {
                "value": "PrivateStandard",
                "label": "PrivateStandard"
              },
              {
                "value": "PrivateAdvanced",
                "label": "PrivateAdvanced"
              },
              {
                "value": "Public",
                "label": "Public"
              }
            ]
          }
        ],
        "flow": {
          "conditions": [
            {
              "decision": {
                "title": "Flavor",
                "options": [
                  {
                    "case": "PrivateStandard",
                    "sequence": {
                      "0": "ibmpowere94de5bb",
                      "1": "emailnot2812dc2b"
                    }
                  },
                  {
                    "case": "PrivateAdvanced",
                    "sequence": {
                      "0": "ibmpower05e5e722",
                      "1": "emailnotb38e5294"
                    }
                  },
                  {
                    "case": "Public",
                    "sequence": {
                      "0": "ibmpowerced6f445",
                      "1": "emailnot23daeeca"
                    }
                  }
                ],
                "id": "decision1f5b5773",
                "mapped_parameter": "${input_parameters.flavor}",
                "immutable": false
              }
            }
          ],
          "templates": [
            {
              "IBM PowerVC Single Virtual Machine": {
                "title": "IBM PowerVC Single Virtual Machine",
                "template_name": "IBM PowerVC Single Virtual Machine",
                "version": "master",
                "id": "ibmpowere94de5bb",
                "template_type": "Terraform",
                "template_content_type": "OpenStack",
                "template_provider": "OpenStack",
                "instance_name": "inst1",
                "cloud_connection_name": "PowerVC-Prod",
                "template_data_objects": {},
                "template_params": {
                  "openstack_image_id": "0039de41-f590-4328-acd3-7881b5aff740",
                  "number_of_instances": "1",
                  "openstack_flavor_id": "5fcc1ddf-76d6-4831-a4b6-fe3909e69f2e",
                  "openstack_network_name": "VL354-10-200",
                  "image_id_username": "qsecofr",
                  "image_id_password": "^(bGVtYW1lcm8=)",
                  "pool": "VL354-10-200",
                  "ibm_stack_name": "${svc_instance.name}"
                },
                "outputs": [
                  "single-vm-ip"
                ],
                "immutable": false,
                "provider_engine_version": "0.11.11"
              }
            },
            {
              "IBM PowerVC Single Virtual Machine": {
                "title": "IBM PowerVC Single Virtual Machine",
                "template_name": "IBM PowerVC Single Virtual Machine",
                "version": "master",
                "id": "ibmpower05e5e722",
                "template_type": "Terraform",
                "template_content_type": "OpenStack",
                "template_provider": "OpenStack",
                "instance_name": "",
                "cloud_connection_name": "PowerVC",
                "template_data_objects": {},
                "template_params": {
                  "openstack_image_id": "e60beed6-25cb-431b-8561-86f2fe10f3d6",
                  "number_of_instances": "1",
                  "openstack_flavor_id": "b542658b-2de5-4bdd-998a-1e1fc168dcde",
                  "openstack_network_name": "VLAN354",
                  "image_id_username": "qsecofr",
                  "image_id_password": "^(bGVtYW1lcm8=)",
                  "pool": "VLAN354",
                  "ibm_stack_name": ""
                },
                "outputs": [
                  "single-vm-ip"
                ],
                "immutable": false,
                "provider_engine_version": "0.11.11"
              }
            },
            {
              "IBM Power Virtual Server in IBM Cloud": {
                "title": "IBM Power Virtual Server in IBM Cloud_b81bbe",
                "template_name": "IBM Power Virtual Server in IBM Cloud",
                "version": "v1.1",
                "id": "ibmpowerced6f445",
                "template_type": "Terraform",
                "template_content_type": "IBM",
                "template_provider": "IBM",
                "instance_name": "ibmcloudvm",
                "cloud_connection_name": "IBMCloud",
                "template_data_objects": {},
                "template_params": {
                  "ibmcloud_api_key": "^(UWRSR0pRazZ1OUhlcmxQaEM4Mm96bUJkYmp1NnFEQzNhVVk2TUpaRTNYMHc=)",
                  "ibmcloud_region": "eu-de",
                  "ibmcloud_zone": "eu-de-1",
                  "power_instance_id": "f83b6038-b9a7-42a6-9500-6d458bbdd11e",
                  "image_name": "IBMi73-MOP",
                  "system_type": "s922",
                  "vm_name": "${svc_instance.name}",
                  "vm_private_key_base64": "^(TFMwdExTMUNSVWRKVGlCUFVFVk9VMU5JSUZCU1NWWkJWRVVnUzBWWkxTMHRMUzBLWWpOQ2JHSnVUbnBoUXpGeVdsaHJkR1JxUlVGQlFVRkJRa2MxZG1KdFZVRkJRVUZGWW0wNWRWcFJRVUZCUVVGQlFVRkJRa0ZCUVVKR2QwRkJRVUZrZW1NeVozUmpiZ3BPYUVGQlFVRkJkMFZCUVZGQlFVRlJSVUYwTm1wM01GcE1TVTl4WVZkd1YwVlBXWGRwTHk5bU0wZERWVE5IT0ZKRU5IQjZjSGwzUzFWVGVqTllVbFZ1T0ZCVlpuY3ZDa3RLUjFOVWRFWk5WaTlqUkU4d1RIWjNkVTFCV0RKV0wzaFJNSE5JUVhNNFkzQlRVa2wxVFRreFYxTXJOSFIxVjFCUE9DOXpOV3RSUlVGb01GSnBWR3haUjNodFJXNEtSWEYwT0U1eWEweHdlVE54WkhsVGNGbENlVWRtTUhKTWMwUlBXams0VTJveVRIcHdVSE12YzFWc2NHcFdORTVRVnpaVlRWWTNMM05WT1hkTFdqSm9kRkZyVUhkMk9RcFBibmswTTFSMGNYZzRNV1JMT1daU1ZIZHJVWGRDY1ZjeFVtMTRkSE5MVDFWUlNIcDVWekV5U25KYVdXNXZWamhWYWpSTVpXSXhRa0ZMZUVSWmIySjFMM2RqTlRkUENpOTRTMHcyYUZGSlVrVkRZVXRKZDFaNE5uWmhUamN3TlZCbmVUWjJSakV2TDJwQ1QwNWlkMjV5WWpGaVNHaHdNa3hOU1hCVlIzaHBTRkpFZW01NmVHSk5SMjlsTXpBS1JHdERLMXBEYTNWbVVVRkJRU3RFVmpSalFVWXhaVWhCUWxGQlFVRkJaSHBqTW1kMFkyNU9hRUZCUVVKQlVVTXpjVkJFVW10elp6WndjR0ZzV1ZFMWFrTk1Memt2WXdwWlNsUmpZbmhGVUdsdVQyNU1RWEJTVEZCa1pFWlRabmM1VWk5RU9HOXJXa3BQTUZWNFdEbDNUVGRSZFM5RE5IZENabHBZTDBaRVUzZGpRM3A0ZVd4S1JXazBlak5XQ2xwTU4ya3lOVms0TjNvcmVtMVNRVkZEU0ZKSFNrOVdaMkpIV1ZOalUzRXpkekoxVVhWdVRHVndNMHBMYkdkSVNWb3ZVM04xZDAwMWJqTjRTMUJaZGs5ckszb3JlRk1LVjIxT1dHY3dPV0p3VVhoWWRpdDRWRE5CY0c1aFJ6RkRVUzlETHpBMlpreHFaRTh5Y2toNlZqQnlNVGxHVUVOU1JFRkhjR0pXUjJKSE1uZHZOVkpCWmxCS1lsaFpiUXAwYkdsbGFGaDRVMUJuZERWMlZVVkJja1ZPYVdoMU55OUNlbTV6Tnk5RmIzWnhSa0ZvUlZGS2IyOXFRbGhJY1Rsdk0zWlVheXRFVEhFNFdGZ3ZLMDFGTkRGMlEyVjBDblpXYzJWSGJsbHpkMmxzVVdKSFNXUkZVRTltVUVaemQyRm9OMlpSVDFGTU5XdExVelU1UVVGQlFVRjNSVUZCVVVGQlFWRkJSM293TjA5c2IwTjVTRUZqZERkeFJsZ0tOM0pWWm5RNE9Hd3ZVM0JLVDJaWVpWUllOUzkzYURodFltaHVjVEI1WkVGU1VHZGhhWFp6TDNwUFlteDRRbFJ6YkRWcVNWRjROVFpoZDNOSWVGZDBSRkoxT1djeVJBb3hhR0U0WlZwS0wydHFPVVI0YmpKbU9HdHhOa2syTVdaV2NIWkhhRGcwVFdkUlIzWTBXV1pxYURSNk1VUXZSRWh3YVZwYWJDOVZjM1I0ZEVOV01HUTBUbTFTVlROMkNuaFFRbVZ4WmxONFlYWTBaME5KVWxKdU4yOTNUV1JNYnpnME5VOW9XSGs0WWtSbmJVOVlRbGRHVFZSNmJWazRhamx4YlZwRVdsbGpUVTVCT0c0MGJuQnVabkIxVVhvS1FTdEVUSEZuTVVKbmFEWllRbWwxT1RSTWVrWkpjVkUyYlN0Q0swVlVZakp4VjNjMVUzTm5aRkl3ZUc1NU5rZHZNbk0yV1ZOUmRVRktjeTlyVWtkVFRsWndOV2xuY0FwM2NESkRVa2h4VVhGWVlUZExiM0JRZG5wTWFHUlVjeTlhVEM5c04xTlFibmgyYnl0allUVXplRVpuU2tGQlFVRm5VVU12Wld3d01VaHhlblFyS3pCa1FXTmxNUzlTQ25wdk4wcG5OWFJ1Ym1sV1JEWm5jV2hYYkZoaFZVNXFhMVZqYWpKdU5GVkZPVWhCV0hCSVJFMHdZMEZGVW5RMVVETjJSR2xTYkRsd1lYQkpXVTVQUzB3MUwwbG5kMElLUW5oUlNuUmhkbTlSWTJzeVdHazJUelpZWTBvMVVERm1kMlpLT1c4MGRFbGhOR2w2V25aUU1sWkJkR2w2VkdOcFl6VjNVbUprVlRKblNGWmpSV0oyUlUwdlEwd3lRZ3BNU0doMk5EaExiMU00YVhkQlFVRkpSVUUzVFdJMFUxTXpLMlJGV2xwQ1JWVm1NRVpKTlV4dVlVOW5WMGR2U1ZWelNYaG1SbEpoU1ZsbFZEWnNWRFpUWXpCUldtbGhDbXM0TkdzeVQydzRWalJSUTNweFlsUmlVa3hPVjI5NVJVcHFWbGhDY0ZONE1VNDRWVmRVT0RVMWVUVk9OVmRxWTJOdFFYQlFhMmxGVGl0MmNXUnBXRWhMS3paM1JVd0taemhoY1RkWWFHbE1jR2ROWjJ4alUzQlZlV2gzVEU4eE1pdDJXR1oxYzFoeGJWTm1aR0pFZERaWFVGcFhablIyT0VGQlFVTkNRVTFoVTBFMVVYRjJibEZSUkRWUmNnb3dSR1p3VjJkUk9HWnVlV3RwTldaVlNqUnhha1JaVDFNeWJXaHZZbWxQTmlzM1l6SmFaWFJSZDJRNFpIbFJVSE5ZY25sSk5tRmphek5aY0c1WkswWnpTRmRpUkN0RENuZGlVWFpFYVV0RmQyYzRaMEl6WldsYVRrUlhLMk5wWW0xbkwxcGlNSFUwUjJFMmRVbHBLME5PZFRBMlpWcERXbEJUVm5OYWFrNTVXVGhWV0drcmFsTlNhR3RPTVV3S0wyMHhXWFZ5WTJGdGNISklOak5oUkVGQlFVRktSVXBzWW0wNWNHUkVTa0ZaVjJ4NVRGZFNiRXhYU214aWJUbHdaRU0xZEdJelFYVmFia2wxWVZkS2RFeHRUblppVVFwRlEwRjNVVVpDWnowOUNpMHRMUzB0UlU1RUlFOVFSVTVUVTBnZ1VGSkpWa0ZVUlNCTFJWa3RMUzB0TFFvPQ==)",
                  "ssh_key_name": "TEST",
                  "processors": "1",
                  "proc_type": "shared",
                  "memory": "16",
                  "migratable": "true",
                  "replication_policy": "none",
                  "replicants": "1",
                  "networks": [
                    "internal",
                    "public-192_168_130_128-29-VLAN_2012"
                  ]
                },
                "outputs": [
                  "ip_address"
                ],
                "immutable": false,
                "provider_engine_version": "0.11.11"
              }
            }
          ],
          "resthooks": [],
          "notifications": [
            {
              "emailnotification": {
                "title": "Email to Admin",
                "type": "email",
                "id": "emailnot2812dc2b",
                "sender": "MOPCloudAutomationManager",
                "receiverList": "benoit.marolleau@fr.ibm.com",
                "subject": "Your IBM i VM is Ready",
                "body": "Your IBM i VM is ready.\nProject Name: ${svc_instance.name}\nIBM i version:  ${parameters.OSVersion}\nCredentials: Usual Dev/Test \nIP Address: ${templates.ibmpowere94de5bb.output.single-vm-ip}",
                "immutable": false
              }
            },
            {
              "emailnotification": {
                "title": "Email to Admin",
                "type": "email",
                "id": "emailnotb38e5294",
                "sender": "CAMadmin",
                "receiverList": "benoit.marolleau@fr.ibm.com",
                "subject": "IBM i VM : Ready",
                "body": "Your IBM i VM is ready.\nProject Name: ${svc_instance.name}\nIBM i version:  ${parameters.OSVersion}\nCredentials: Usual Dev/Test \nIP Address: ${templates.ibmpower05e5e722.output.single-vm-ip}"
              }
            },
            {
              "emailnotification": {
                "title": "Email to Admin Public",
                "type": "email",
                "id": "emailnot23daeeca",
                "sender": "CAMadmin",
                "receiverList": "benoit.marolleau@fr.ibm.com",
                "subject": "IBM Cloud VM : Ready",
                "body": "Your Power VM in IBM Cloud is ready.\nProject Name: ${svc_instance.name}\nIBM i version:  ${parameters.OSVersion}\nCredentials: Usual Dev/Test \nIP Address: ${templates.ibmpowerced6f445.output.ip_address}",
                "immutable": false
              }
            }
          ],
          "sequence": {
            "0": "decision1f5b5773"
          },
          "error_sequence": {}
        },
        "output_parameters": [
          {
            "name": "test",
            "label": "ip",
            "customtype": "string",
            "type": "string",
            "immutable": true,
            "hidden": false,
            "required": false,
            "secured": false,
            "default": "ip"
          }
        ]
      }
    ],
    "plans": [
      {
        "name": "Standard - Dev/Test",
        "description": "Standard Plan :  IBM i VM with 1 vCPU, 8GB RAM, 50 GB Disk (Sysbas) vSCSI Storage",
        "plan_parameters": [
          {
            "name": "flavor",
            "label": "flavor",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": true,
            "secured": false,
            "isDynamic": false,
            "default": "PrivateStandard"
          },
          {
            "name": "OSVersion",
            "label": "OS Version",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": false,
            "secured": false,
            "options": [
              {
                "label": "IBM i 7.2",
                "value": "IBMi7.2",
                "default": false
              },
              {
                "label": "IBM i 7.3",
                "value": "IBMi7.3",
                "default": false
              },
              {
                "label": "AIX 7.2",
                "value": "AIX7.2",
                "default": false
              },
              {
                "label": "RHEL8",
                "value": "RHEL8",
                "default": false
              }
            ],
            "passbyname": false,
            "dynamicDetails": {},
            "isDynamic": false
          },
          {
            "name": "NumberofVMs",
            "label": "Number of VMs",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": false,
            "secured": false,
            "description": "Number of VMs to provision",
            "options": [
              {
                "label": "1",
                "value": "1",
                "default": true
              },
              {
                "label": "2",
                "value": "2",
                "default": false
              },
              {
                "label": "3",
                "value": "3",
                "default": false
              }
            ]
          }
        ]
      },
      {
        "name": "Advanced - QA",
        "description": "Advanced Plan: IBM i VM with 2vCPU, 16GB RAM, 100GB Disk (Sysbas) - NPIV to SVC Storage",
        "plan_parameters": [
          {
            "name": "flavor",
            "label": "flavor",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": true,
            "secured": false,
            "isDynamic": false,
            "default": "PrivateAdvanced"
          },
          {
            "name": "OSVersion",
            "label": "OS Version",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": false,
            "secured": false,
            "options": [
              {
                "label": "IBM i 7.2",
                "value": "IBMi7.2",
                "default": false
              },
              {
                "label": "IBM i 7.3",
                "value": "IBMi7.3",
                "default": false
              },
              {
                "label": "AIX 7.2",
                "value": "AIX7.2",
                "default": false
              },
              {
                "label": "RHEL8",
                "value": "RHEL8",
                "default": false
              }
            ],
            "passbyname": false,
            "dynamicDetails": {},
            "isDynamic": false
          },
          {
            "name": "NumberofVMs",
            "label": "Number of VMs",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": false,
            "secured": false,
            "description": "Number of VMs to provision",
            "options": [
              {
                "label": "1",
                "value": "1",
                "default": true
              },
              {
                "label": "2",
                "value": "2",
                "default": false
              },
              {
                "label": "3",
                "value": "3",
                "default": false
              }
            ]
          }
        ]
      },
      {
        "name": "PowerVS in IBM Cloud",
        "description": "Standard Plan - Power Virtual Server in IBM Cloud",
        "plan_parameters": [
          {
            "name": "flavor",
            "label": "flavor",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": true,
            "secured": false,
            "isDynamic": false,
            "default": "Public"
          },
          {
            "name": "OSVersion",
            "label": "OS Version",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": false,
            "secured": false,
            "options": [
              {
                "label": "IBM i 7.2",
                "value": "IBMi7.2",
                "default": false
              },
              {
                "label": "IBM i 7.3",
                "value": "IBMi7.3",
                "default": false
              },
              {
                "label": "AIX 7.2",
                "value": "AIX7.2",
                "default": false
              },
              {
                "label": "RHEL8",
                "value": "RHEL8",
                "default": false
              }
            ],
            "passbyname": false,
            "dynamicDetails": {},
            "isDynamic": false
          },
          {
            "name": "NumberofVMs",
            "label": "Number of VMs",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": false,
            "secured": false,
            "description": "Number of VMs to provision",
            "options": [
              {
                "label": "1",
                "value": "1",
                "default": true
              },
              {
                "label": "2",
                "value": "2",
                "default": false
              },
              {
                "label": "3",
                "value": "3",
                "default": false
              }
            ]
          }
        ]
      }
    ],
    "version": "1.0.0.1"
  }
}